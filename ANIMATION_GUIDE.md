# Animation Guide for Slide 12: Autoregression

> **Important:** python-pptx does not support programmatic animation creation.
> This guide explains how to manually add animations in PowerPoint after generating the presentation.

---

## Overview

Slide 12 demonstrates the autoregressive process of LLM text generation through 4 progressive steps. The slide is generated with a **static layout** showing all 4 steps at once. To create the animated sequence shown in the legacy HTML version, you'll need to manually add animations in PowerPoint.

---

## Static Layout (Generated by Script)

The generated slide contains:

1. **Title:** "Autoregression" at the top
2. **4 Step Containers** (vertically stacked):
   - Step 1: Original Input → predicts "but"
   - Step 2: Extended Input → predicts "the"
   - Step 3: Extended Again → predicts "truth"
   - Final: Complete Sentence (no prediction)
3. **Vertical arrows (↓)** between steps 1-2, 2-3, 3-4
4. **Completion message** below final step

---

## Animation Strategy

### Recommended Approach: Progressive Reveal

**Goal:** Show each step appearing one at a time, simulating the iterative autoregression process.

**Steps:**

1. Open the generated presentation: `output/Brain-Bridges_LATEST.pptx`
2. Navigate to Slide 12
3. Open the **Animation Pane** (View → Animation Pane)
4. Select all elements and set them to initially appear together
5. Apply entrance animations to create the sequence

---

## Detailed Animation Instructions

### Step 1: Group Elements by Step

Before animating, you may want to group related elements:

**Step 1 Group:**
- Step 1 container (border box)
- Step 1 label text
- Input tokens: "Witnesses", "must", "tell", "nothing"
- LLM arrow: "→ LLM →"
- Predicted token: "but"
- Vertical arrow ↓ (below Step 1)

**Step 2 Group:**
- Step 2 container
- Step 2 label text
- Input tokens: "Witnesses", "must", "tell", "nothing", "but" (green)
- LLM arrow
- Predicted token: "the"
- Vertical arrow ↓ (below Step 2)

**Step 3 Group:**
- Step 3 container
- Step 3 label text
- Input tokens: "Witnesses", "must", "tell", "nothing", "but", "the" (green)
- LLM arrow
- Predicted token: "truth"
- Vertical arrow ↓ (below Step 3)

**Final Step Group:**
- Final container (green border)
- Final label text
- Complete tokens: "Witnesses", "must", "tell", "nothing", "but", "the", "truth" (green)
- Completion message

---

### Step 2: Apply Entrance Animations

**Recommended Timing:**

1. **Title:** No animation (always visible)

2. **Step 1 Group:**
   - Animation: **Fade** or **Appear**
   - Start: **On Click**
   - Duration: 0.5 seconds

3. **Step 2 Group:**
   - Animation: **Fade** or **Appear**
   - Start: **After Previous** (delay: 1.5 seconds)
   - Duration: 0.5 seconds

4. **Step 3 Group:**
   - Animation: **Fade** or **Appear**
   - Start: **After Previous** (delay: 1.5 seconds)
   - Duration: 0.5 seconds

5. **Final Step Group:**
   - Animation: **Fade** or **Appear**
   - Start: **After Previous** (delay: 1.5 seconds)
   - Duration: 0.5 seconds

6. **Completion Message:**
   - Animation: **Fade** or **Appear**
   - Start: **After Previous** (delay: 0.5 seconds)
   - Duration: 0.5 seconds
   - Optional: Add **Emphasis** animation (Grow/Shrink, Pulse)

---

### Step 3: Test the Animation

1. Press **Slide Show** (F5) to test
2. Click through each step to verify the sequence
3. Adjust timing as needed (faster/slower delays)
4. Ensure the "new token" (green) elements are clearly visible in each step

---

## Alternative: Auto-Advance Animation

If you want the animation to play automatically without clicking:

1. Follow the same grouping and animation setup
2. Change all "Start" settings to **After Previous**
3. Set appropriate delays:
   - Step 1: On Click (or With Previous)
   - Step 2: After Previous, 2 seconds
   - Step 3: After Previous, 2 seconds
   - Final: After Previous, 2 seconds
   - Message: After Previous, 1 second

---

## Advanced: Highlight New Tokens

To emphasize the newly added token in each step:

1. Select the green token in Step 2 ("but")
2. Add **Emphasis** animation: **Grow/Shrink** or **Pulse**
3. Start: **With Previous**
4. Repeat for green tokens in Steps 3 and Final

This creates a visual "pop" effect for newly generated tokens.

---

## Animation Timeline Summary

```
t=0s:    Title (always visible)
t=0s:    Step 1 appears → [Witnesses] [must] [tell] [nothing] → LLM → [but]
t=2s:    ↓ arrow appears
t=2.5s:  Step 2 appears → [Witnesses] [must] [tell] [nothing] [but (green)] → LLM → [the]
t=4.5s:  ↓ arrow appears
t=5s:    Step 3 appears → [Witnesses] [...] [but] [the (green)] → LLM → [truth]
t=7s:    ↓ arrow appears
t=7.5s:  Final step appears → [Witnesses] [...] [but] [the] [truth (green)]
t=9s:    Completion message appears with emphasis
```

---

## Why Manual Animation?

**Technical Limitation:**
- python-pptx library does not support programmatic animation creation
- Related GitHub issues: [#74](https://github.com/scanny/python-pptx/issues/74), [#329](https://github.com/scanny/python-pptx/issues/329)
- No official timeline for animation support

**Chosen Solution:**
- Generate static layout with Python (fast, automated, version-controlled)
- Add animations manually in PowerPoint (flexible, visual control)
- Document the animation strategy in this guide

**Benefits:**
- Full control over animation timing and effects
- Easy to adjust/tweak in PowerPoint UI
- No dependency on unsupported library features
- Can be applied to future presentations

---

## Tips & Best Practices

1. **Save a Template:** Once you've set up animations, save the slide as a PowerPoint template (.potx) for reuse
2. **Use Animation Painter:** Copy animation settings from one object to similar objects
3. **Test on Target Device:** Animation performance can vary by hardware
4. **Keep It Simple:** Subtle animations (fade, appear) are more professional than flashy effects
5. **Consistent Timing:** Use the same duration/delay pattern for all steps

---

## Troubleshooting

**Problem:** Elements appear in wrong order
- **Solution:** Check Animation Pane order, drag to reorder

**Problem:** Animation too fast/slow
- **Solution:** Adjust "Duration" and "Delay" settings in Animation Pane

**Problem:** Can't select individual elements
- **Solution:** Use Selection Pane (View → Selection Pane) to select by name

**Problem:** Green tokens not visible
- **Solution:** Verify that `new_token_index` in design_tokens.py correctly marks the new token for each step

---

## Future Improvements

If python-pptx adds animation support in the future, we can:

1. Create an `add_autoregression_animations()` function
2. Programmatically add entrance animations to step groups
3. Set timing and delays from design_tokens.py
4. Fully automate the animation process

For now, this manual approach provides the best balance of automation and flexibility.

---

**Questions or issues?** File a GitHub issue or consult the PowerPoint animation documentation.
